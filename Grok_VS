# File: NUCLEAR-MAINTENANCE-ON.yaml
# Apply this â†’ EVERYTHING dies instantly and shows maintenance page
apiVersion: networking.istio.io/v1beta1
kind: VirtualService
metadata:
  name: 000-nuclear-maintenance-override
  namespace: dev-istio-system
  annotations:
    # This forces Istio to evaluate this VS FIRST
    networking.istio.io/exportTo: "*"
spec:
  gateways:
  - epay-dev-gateway
  hosts:
  - dev.epay.sbi
  - "*.dev.epay.sbi"
  exportTo:
  - "*"
  http:
  - name: "NUCLEAR MAINTENANCE - KILLS EVERYTHING"
    match:
    - uri:
        prefix: "/"
    route:
    - destination:
        host: maintenancefe-maintenance-frontend.dev-frontend.svc.cluster.local
        port:
          number: 8080


[osuser@bastion ~]$ oc apply -f grook-vs.yaml
The VirtualService "zzz-global-maintenance-override" is invalid: spec.http[0].fault.abort.percentage: Invalid value: "integer": spec.http[0].fault.abort.percentage in body must be of type object: "integer"
