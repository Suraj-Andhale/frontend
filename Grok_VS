# File: global-maintenance-on.yaml   (just apply this ONE file)
apiVersion: networking.istio.io/v1beta1
kind: VirtualService
metadata:
  name: zzz-force-maintenance-global
  namespace: dev-istio-system
spec:
  gateways:
  - epay-dev-gateway
  hosts:
  - dev.epay.sbi
  - "*.dev.epay.sbi"
  http:
  - name: "FORCE MAINTENANCE - CATCH EVERYTHING"
    match:
    - uri:
        prefix: "/"
    fault:
      abort:
        httpStatus: 503
        # CORRECT SYNTAX â€” this is what OpenShift/Istio expects
        percentage:
          value: 100
    route:
    - destination:
        host: maintenancefe-maintenance-frontend.dev-frontend.svc.cluster.local
        port:
          number: 8080



[osuser@bastion ~]$ oc apply -f grook-vs.yaml
The VirtualService "zzz-global-maintenance-override" is invalid: spec.http[0].fault.abort.percentage: Invalid value: "integer": spec.http[0].fault.abort.percentage in body must be of type object: "integer"
