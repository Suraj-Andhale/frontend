apiVersion: networking.istio.io/v1beta1
kind: VirtualService
metadata:
  name: 000-maintenance-kill-switch
  namespace: dev-istio-system   # Gateway ka namespace
spec:
  gateways:
  - epay-dev-gateway            # Exact gateway name, NO namespace prefix here
  hosts:
  - dev.epay.sbi
  - "*.dev.epay.sbi"
  exportTo:
  - "*"                         # Makes it visible to ALL namespaces
  http:
  - name: "MAINTENANCE - SABKUCH MARO"
    match:
    - uri:
        prefix: "/"
    route:
    - destination:
        host: maintenancefe-maintenance-frontend.dev-frontend.svc.cluster.local
        port:
          number: 8080
      weight: 100

[osuser@bastion ~]$ oc apply -f grook-vs.yaml
The VirtualService "zzz-global-maintenance-override" is invalid: spec.http[0].fault.abort.percentage: Invalid value: "integer": spec.http[0].fault.abort.percentage in body must be of type object: "integer"



[osuser@bastion ~]$ oc apply -f grook-vs.yaml
Error from server: error when creating "grook-vs.yaml": admission webhook "rev.validation.istio.io" denied the request: configuration is invalid: cannot have both public (*) and non-public exportTo values for a resource
